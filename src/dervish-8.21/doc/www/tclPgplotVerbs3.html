<H1>PGPLOT Extensions Part III</H1>
<H2><A NAME=pgGet>pgGet</A></H2>
Metafile disk files (created by <A HREF=tclPgplotVerbs3.html#pgSave>pgSave</A>)
can be read back in to Dervish and the plots displayed on any supported Pgplot
device (including Postscript).  In this manner, plots can be saved, converted
to postscript and then printed.  This command uses the default directory and
extension defined through the <A HREF=tclDirUtils.html#dirSet>dirSet</A>
Tcl verb.

<LISTING>
 
TCL:    pgGet &lt;filename&gt; [-o outputFilename] [-d outputDevice]
           &lt;filename&gt;           Name of metafile to read in.  This parameter
                                may be a Tcl list of many metafile names.
           [-o outputFilename]  Name of output file to create.  
                                This parameter is used in cases where the
                                Pgplot device creates disk files (e.g. the
                                Postscript driver).  For these devices the
                                default is the same as specified in the Pgplot
                                manual and is device specific.  If the above
                                filename is a Tcl list, this parameter (if
                                entered must be a Tcl list with the same
                                number of elements.
           [-d outputDevice]    The Pgplot device on which to display the
                                plot(s).  The default is /XWINDOW.
 
        Returns:
           TCL_OK       Successful completion.

           TCL_ERROR    Error occurred.  The Interp result string will contain
                        the error string.
 
</LISTING>








<H2><A NAME=pgSave>pgSave</A></H2>
The verb pgSave can be used to save plots in a disk file in metafile format.
In order to tell Dervish that you want any plots saved in a metafile, you must
define the environmental variable <STRONG>PGPLOT_SAVE</STRONG> <EM>before</EM>
creating the plots.  <STRONG>PGPLOT_SAVE</STRONG> can be defined to anything.
If this environmental variable exists, once you start a plot, all plotting
commands are saved as metafile commands in a unique temporary file (in
addition to being displayed on the current plotting device).  After
completing your plot(s) and after executing the pgEnd command, execute the
pgSave command.  This will copy the temporary file to a file of your choosing.
This command uses the default directory and extension defined through the
<A HREF=tclDirUtils.html#dirSet>dirSet</A> Tcl verb.  If you create a plot
and do not issue the pgSave command before starting another plot, the
orignal metafile is lost.

<LISTING>
 
TCL:    pgSave &lt;outputFilename&gt;
           &lt;outputFilename&gt;  Name of metafile to create.
 
        Returns:
           TCL_OK       Successful completion.

           TCL_ERROR    Error occurred.  The Interp result string will contain
                        the error string.
 
</LISTING>







<H2><A NAME=pgGeomGet>pgGeomGet</A></H2>
The verb pgGeomGet will return the current geometry that pgplot will use to
create a window.  This geometry includes the window width (in pixels), window
height (in pixels), upper left corner x position (in pixels) and upper left
corner y position (in pixels).  These values are returned in this order as a
Tcl list.  If there is no geometry set (no previous pgGeomSet command was
issued and no values are defined in the .Xdefaults file) an error is returned.
NOTE: an <EM>xrdb -merge .Xdefaults</EM> command must have been issued prior
to running Dervish to allow the server access to the information in the 
.Xdefaults file.
<P>
Pgplot gets geometry information from 1 of 3 sources.  These sources, in 
priority order (starting with the highest), are listed below.

<DIR>
<LI>Values entered by the user in a pgGeomSet command.
<LI>Values listed in the .Xdefaults file.
<LI>Default values calculated by pgplot at pgBegin time.
</DIR>

<LISTING>
 
TCL:    pgGeomGet 
 
        Returns:
           TCL_OK       Successful completion.  The Interp result string will
	                contain a list of the current geometry.

           TCL_ERROR    Error occurred.  The Interp result string will contain
                        the error string.
 
</LISTING>







<H2><A NAME=pgGeomSet>pgGeomSet</A></H2>
The verb pgGeomSet will set the geometry used by Pgplot to create a window.

<LISTING>
 
TCL:    pgGeomSet &lt;width&gt; &lt;height&gt; &lt;x&gt; &lt;y&gt;
           &lt;width&gt;           Pixel width of the Pgplot window.
           &lt;height&gt;          Pixel height of the Pgplot window.
           &lt;x&gt;               Pixel position of the upper left corner of the
	                     Pgplot window on the x axis.
           &lt;y&gt;               Pixel position of the upper left corner of the
	                     Pgplot window on the y axis.
 
        Returns:
           TCL_OK       Successful completion.

           TCL_ERROR    Error occurred.  The Interp result string will contain
                        the error string.
 
</LISTING>
