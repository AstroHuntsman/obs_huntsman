\subsection{Introduction}

This module will create a frame of sky background level. This frame
will be used to assign local sky value for each object.

\begin{arguments}
\item{\quad region}(REGION)(I) contains the frame of interest.
\item{\quad ffo\_medsize}(int)(I) is a window size of median filter to
create the local sky frames.
\item{\quad ffo\_mode}(int)(I) indicates a method of determining the
sky background.
\item{\quad back}(REGION)(O) holds sky background image.
\end{arguments}

\subsubsection{Algorithms}

There are two methods to determine sky background level. 

\begin{itemize}
\item When ffo\_mode$=0$, an ffo\_medsize$\times$ffo\_medsize median
filter will be applied to every pixel in the frame. 
\item When ffo\_mode$=1$, the median at the center of each 
ffo\_medsize$\times$ffo\_medsize box across the image will be found, 
then calculate the value at each pixel by using bilinear interpolation.
\end{itemize}

In both methods, all pixels whose mask values are MASK\_NOTCHECKED
(pixel is not examined for an object) or MASK\_BRIGHTOBJECT (pixel is
part of bright object) will be ignored. 
