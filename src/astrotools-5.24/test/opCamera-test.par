# This file has a very unusual geometry to test the lookCCDAstrom proc
#
# the dewars have the following values of thetai:
#   1   2   3   4   5   6   7   8
# -10  -5   0   0   5  10   6  -6
# dewar 3 has sfacti=0.8; dewar 6 has sfacti=1.5.

# The CCDs in dewar 1 have sfactc ranging from 0.6 to 1.4.
# The CCDs in dewar 6 have theta ranging from 10 to -10.  Thus the last
#    CCD in dewar 6 is straight, since its dewar has thetai = +10 and
#    it has theta = -10.
# All of the CCDs in dewar 8 have theta=6, which should counteract
# the thetai=-6 of that dewar.

# the following commands make a plot of this file:
# source testSurveyGeometry.tcl
# set pgDevice /xwindow  OR set pgDevice /ps
# testSurveyGeometry
mjd                 50249               # MJD day number when data was  
                                        # obtained. 
xRot                0.0                 # X-position of center of  
                                        # instrument rotation wrt  
                                        # instrument center.  Nominally  
                                        # 0. (mm) 
yRot                0.0                 # Y position of center of  
                                        # instrument rotation wrt  
                                        # instrument center.  Nominally  
                                        # 0.  (mm) 
xBoreN             -22.75               # offset for North boresight (mm)
xBoreS             22.75                # offset for South boresight (mm)
yBore              0.0                  # offset for boresight y-dir (mm)
scalef              16.666              # Telescope scale. (arcsec/mm) 

typedef struct {
    int       dewarID;        # Dewar ID (camCol [1-6] for photometric  
                              # dewars, 7 for leading and 8 for trailing  
                              # astrometric dewars. 
    double    xb;             # X positoin of dewar kinematic hardpoint  
                              # wrt instrument center. (mm) 
    double    yb;             # Y position of dewar kinematic hardpoint  
                              # wrt instrument center. (mm) 
    double    thetai;         # Rotation of dewar around kinematic  
                              # hardpoint. (degrees) 
    double    sfacti;         # Scale of dewar (relative to 1.0000) for  
                              # expansion of dewar as a whole. 
} DEWARGEOMETRY;

dewargeometry 1  -227.5  140     -10 1.0
dewargeometry 2  -136.5  140      -5 1.0
dewargeometry 3   -45.5  140       0 0.8
dewargeometry 4    45.5  140       0 1.0
dewargeometry 5   136.5  140       5 1.0
dewargeometry 6   227.5  140      10 1.5
dewargeometry 7  -242.5  203.076   6 1.0
dewargeometry 8  -242.5 -203.076  -6 1.0

typedef struct {
    int       dewarID;        # Dewar ID (camCol [1-6] for photometric  
                              # dewars, 7 for leading and 8 for trailing  
                              # astrometric dewars. 
    int       camRow;         # Row in the imaging camera. 
    int       camCol;         # Column in the imaging camera. 
    int       rowRef;         # Reference pixel, near chip center.  
                              # (pixels) 
    int       colRef;         # Reference pixel, near chip center.  
                              # (pixels) 
    double    xc;             # X position (nu) of CCD in the camera,  
                              # measure from it's dewar's kinematic  
                              # hardpoint. (mm) 
    double    yc;             # Y position (mu) of CCD in the camera,  
                              # measured from it's dewar's kinematic  
                              # hardpoint. (mm) 
    double    theta;          # Rotation of CCD within its dewar around  
                              # rowRef, colRef. (degrees) 
    double    sfactc;         # Scale factor correction (relative to  
                              # 1.0000) due to correcting optics. 
    double    pscale;         # Pixel scale. (mm/pixel) 
    double    xmag;           # Photometric zeropoint. 
    int       rowoffset;      # row offset
} CCDGEOMETRY;

ccdgeometry 1 1 1 1024 1024 0  -10 0 0.6 0.024 23.4 0
ccdgeometry 1 2 1 1024 1024 0  -75 0 0.8 0.024 23.4 0
ccdgeometry 1 3 1 1024 1024 0 -140 0 1.0 0.024 23.4 0
ccdgeometry 1 4 1 1024 1024 0 -205 0 1.2 0.024 23.4 0
ccdgeometry 1 5 1 1024 1024 0 -270 0 1.4 0.024 23.4 0
ccdgeometry 2 1 2 1024 1024 0 -10 0 1.0 0.024 23.4 0
ccdgeometry 2 2 2 1024 1024 0 -75 0 1.0 0.024 23.4 0
ccdgeometry 2 3 2 1024 1024 0 -140 0 1.0 0.024 23.4 0
ccdgeometry 2 4 2 1024 1024 0 -205 0 1.0 0.024 23.4 0
ccdgeometry 2 5 2 1024 1024 0 -270 0 1.0 0.024 23.4 0
ccdgeometry 3 1 3 1024 1024 0 -10 0 1.0 0.024 23.4 0
ccdgeometry 3 2 3 1024 1024 0 -75 0 1.0 0.024 23.4 0
ccdgeometry 3 3 3 1024 1024 0 -140 0 1.0 0.024 23.4 0
ccdgeometry 3 4 3 1024 1024 0 -205 0 1.0 0.024 23.4 0
ccdgeometry 3 5 3 1024 1024 0 -270 0 1.0 0.024 23.4 0
ccdgeometry 4 1 4 1024 1024 0 -10 0 1.0 0.024 23.4 0
ccdgeometry 4 2 4 1024 1024 0 -75 0 1.0 0.024 23.4 0
ccdgeometry 4 3 4 1024 1024 0 -140 0 1.0 0.024 23.4 0
ccdgeometry 4 4 4 1024 1024 0 -205 0 1.0 0.024 23.4 0
ccdgeometry 4 5 4 1024 1024 0 -270 0 1.0 0.024 23.4 0
ccdgeometry 5 1 5 1024 1024 0 -10 0 1.0 0.024 23.4 0
ccdgeometry 5 2 5 1024 1024 0 -75 0 1.0 0.024 23.4 0
ccdgeometry 5 3 5 1024 1024 0 -140 0 1.0 0.024 23.4 0
ccdgeometry 5 4 5 1024 1024 0 -205 0 1.0 0.024 23.4 0
ccdgeometry 5 5 5 1024 1024 0 -270 0 1.0 0.024 23.4 0
ccdgeometry 6 1 6 1024 1024 0  -10  10 1.0 0.024 23.4 0
ccdgeometry 6 2 6 1024 1024 0  -75   5 1.0 0.024 23.4 0
ccdgeometry 6 3 6 1024 1024 0 -140   0 1.0 0.024 23.4 0
ccdgeometry 6 4 6 1024 1024 0 -205  -5 1.0 0.024 23.4 0
ccdgeometry 6 5 6 1024 1024 0 -270 -10 1.0 0.024 23.4 0
ccdgeometry 7 6 1 200 1024 60.5 19.5 0 1.0 0.024 23.4 0
ccdgeometry 7 6 2 200 1024 151.5 19.5 0 1.0 0.024 23.4 0
ccdgeometry 7 6 3 200 1024 242.5 19.5 0 1.0 0.024 23.4 0
ccdgeometry 7 6 4 200 1024 333.5 19.5 0 1.0 0.024 23.4 0
ccdgeometry 7 6 5 200 1024 424.5 19.5 0 1.0 0.024 23.4 0
ccdgeometry 7 6 0 200 1024 242.5 39 0 1.0 0.024 23.4 0
ccdgeometry 7 7 1 200 1024 15 0 0 1.0 0.024 23.4 0
ccdgeometry 7 7 2 200 1024 106 0 0 1.0 0.024 23.4 0
ccdgeometry 7 7 3 200 1024 197 0 0 1.0 0.024 23.4 0
ccdgeometry 7 7 4 200 1024 288 0 0 1.0 0.024 23.4 0
ccdgeometry 7 7 5 200 1024 379 0 0 1.0 0.024 23.4 0
ccdgeometry 7 7 6 200 1024 470 0 0 1.0 0.024 23.4 0
ccdgeometry 8 8 1 200 1024   15     0   6 1.0 0.024 23.4 0
ccdgeometry 8 8 2 200 1024  106     0   6 1.0 0.024 23.4 0
ccdgeometry 8 8 3 200 1024  197     0   6 1.0 0.024 23.4 0
ccdgeometry 8 8 4 200 1024  288     0   6 1.0 0.024 23.4 0
ccdgeometry 8 8 5 200 1024  379     0   6 1.0 0.024 23.4 0
ccdgeometry 8 8 6 200 1024  470     0   6 1.0 0.024 23.4 0
ccdgeometry 8 9 1 200 1024   60.5 -19.5 6 1.0 0.024 23.4 0
ccdgeometry 8 9 2 200 1024  151.5 -19.5 6 1.0 0.024 23.4 0
ccdgeometry 8 9 3 200 1024  242.5 -19.5 6 1.0 0.024 23.4 0
ccdgeometry 8 9 4 200 1024  333.5 -19.5 6 1.0 0.024 23.4 0
ccdgeometry 8 9 5 200 1024  424.5 -19.5 6 1.0 0.024 23.4 0
ccdgeometry 8 9 0 200 1024  242.5 -39   6 1.0 0.024 23.4 0

